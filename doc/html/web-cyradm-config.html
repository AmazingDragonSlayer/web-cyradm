<HTML
><HEAD
><TITLE
>Configuring Web-cyradm</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="Postfix-Cyrus-Web-cyradm-HOWTO"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Configuring Cyrus IMAP"
HREF="cyrus-config.html"><LINK
REL="NEXT"
TITLE="Testing the setup"
HREF="test.html"></HEAD
><BODY
CLASS="SECT1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Postfix-Cyrus-Web-cyradm-HOWTO</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="cyrus-config.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="test.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="WEB-CYRADM-CONFIG">8. Configuring Web-cyradm</H1
><P
>First copy the distributions config file</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>cp config.inc.php-dist config.inc.php

touch /var/log/web-cyradm-login.log
chown nobody /var/log/web-cyradm-login.log</PRE
></FONT
></TD
></TR
></TABLE
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN478">8.1. Cyrus setup</H2
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
># The Cyrus login stuff

$CYRUS_HOST="localhost";
$CYRUS_PORT="143";
$CYRUS_USERNAME="cyrus";
$CYRUS_PASSWORD="secret";</PRE
></FONT
></TD
></TR
></TABLE
><P
>This should be self-explanatory. Please note there is no support for SSL connections at the moment, this is especially important 
for users that what to like to have web-cyradm not on the same server where the cyrus-imapd resides.</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN482">8.2. Database setup</H2
><P
>Please note: the database releated code is now being rewritten to use PEAR as a database abstraction. So in future
	you will be able to also use PostgreSQL as database engine (with the patch for postfix). In meantime it is needed 
	to setup the database setup twice (only for the CVS versions, release 2002-05-25_xx will just ignore the unused stuff).
	</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>The MySQL stuff to be replaced after all files have PEAR implemented

$MYSQL_HOST="localhost";</PRE
></FONT
></TD
></TR
></TABLE
><P
>Put here the name of your mysql-server. Please note that if you use a mysql database on the same host as web-cyradm does,
use »localhost« as the hostname if you followed the instructions at <A
HREF="mysql-config.html"
>Section 4</A
>.

<TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$MYSQL_DB="mail";
$MYSQL_USER="mail";
$MYSQL_PASSWD="secret";</PRE
></FONT
></TD
></TR
></TABLE
></P
><P
>This should be self-explanatory</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>/* DB_TYPE

 Possible Values are:
 o mysql
 o pgsql

 To operate a mailsystem with postgreSQL you will need a patch for
 Postfix.

 Other Databases needs to be supported by PAM and postfix

*/


$DB_TYPE="mysql";

$DB_HOST="localhost";
$DB_NAME="mail";
$DB_USER="mail";
$DB_PASSWD="secret";&#13;</PRE
></FONT
></TD
></TR
></TABLE
><P
>This is the PEAR stuff with is only needed (at the moment) if you work with the CVS versions</P
><TABLE
BORDER="1"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><FONT
COLOR="#000000"
><PRE
CLASS="SCREEN"
>$DSN="$DB_TYPE://$DB_USER:$DB_PASSWD@$DB_HOST/$DB_NAME";</PRE
></FONT
></TD
></TR
></TABLE
><P
>And this variable is the final result of the PEAR configuration which is used by web-cyradm, please leave in untouched</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN494">8.3. Default Quota</H2
><P
>	The default quota to be used is set in the Variable »DEFAULT_QUOTA=20000« and is used when 
	creating a new domain</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN497">8.4. Crypted passwords</H2
><P
>At the moment the handling of crypted passwords is not yet supported and will be implemented in 
	one of the next major releases. In meantime please leave the value of the Variable $CRYPT=0</P
></DIV
><DIV
CLASS="SECT2"
><H2
CLASS="SECT2"
><A
NAME="AEN500">8.5. Usernames</H2
><P
>There are two schemas of usernames supported with are defined in the variable »DOMAIN_AS_PREFIX«. 
	The default is to have a defined prefix ($DOMAIN_AS_PREFIX=0), i.e. »test« for the domain »expample.com«. 
	With this scheme, the first user gets the username test0001, the second test0002 and incrementing.
	</P
><P
>The other one is to have usernames like »hans.mueller.example.com«. If that case set $DOMAIN_AS_PREFIX=1</P
><P
>At the moment you can not mix both schemas, evaluate carefully with scheme matches your needs best</P
><P
>If you choose to have $DOMAIN_AS_PREFIX=1, be sure you uncomment the option »unixhierarchysep: yes« like described
	in <A
HREF="cyrus-config.html#ETC-IMAPD"
>Section 7.1.2</A
></P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="cyrus-config.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="test.html"
ACCESSKEY="N"
>Next</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Configuring Cyrus IMAP</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Testing the setup</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>